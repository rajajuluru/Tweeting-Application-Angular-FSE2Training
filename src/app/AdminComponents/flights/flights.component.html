<app-header></app-header>
<div class="section" id="booking" style="padding-top: 2%;">
    <div class="jumbotron container ">
      <div >
        <h1 style="text-align: center;"class="text-danger">Flights   <button class="btn btn-primary" data-toggle="modal" data-target="#addAirline">Add Flights</button></h1>
        <div class="modal fade" id="addAirline" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg modal-dialog-centered"  role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" style="padding-left: 40% ;color:red;" id="exampleModalLabel">Add New Flights</h5>
                <button type="button" class="close" data-dismiss="modal" id="close" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body container">
                 <!-- <div class="container"> -->
                  <form  [formGroup]="addFlightsForm">
      
                      <table class="table">
                     
                          <tbody>
                            <tr>
                              <th scope="row">From Location</th>
                              <td><input type="text"  placeholder="Airline name"  formControlName="fromLocation" required></td>
                            </tr>
                            <tr>
                              <th scope="row">To Location</th>
                              <td><input type="text"  placeholder="Airline description"  formControlName="toLocation"  required></td>
                            </tr>
                            <tr>
                              <th scope="row">Airlines</th>
                              <td>
                                  <select   formControlName="airLineId"
                                   >
                                   
                                     <option value={{air.airLineId}} text={{air.airLineName}} *ngFor="let air of filteredAirLinedata">open</option>
                                   
                                     
                                   </select>
      
                              </td>
                            </tr>
                            <tr>
                              <th scope="row">Seats Count</th>
                              <td><input type="number"  placeholder="no of seats"  formControlName="seatsCount"  required></td>
                            </tr>
                            <tr>
                              <th scope="row">Price</th>
                              <td><input type="number"  placeholder="price"  formControlName="price"  required></td>
                            </tr>
                            <tr>
                              <th scope="row">Flight Status</th>
                              <td>
                                  <select   formControlName="lockstatus"
                                   >
                                     
                                     <option value="0">open</option>
                                     <option value="1">lock</option>
                                     
                                   </select>
      
                              </td>
                            </tr>
                          </tbody>
                        </table>
      
                     
                      </form>
      
                 <!-- </div> -->
              </div>
             
              <div class="modal-footer">
                
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-danger" [disabled]="addFlightsForm.invalid" (click)="SubmitFlightDetails();">Submit Details</button>
              </div>
            </div>
          </div>
        </div>
       
     
      </div>

      <div style="padding-top: 2%;">
      <table class="table table-dark" >
                     
        <tbody >
          <tr style="color: red;">
            <th scope="row">Fligth Id</th>
            <th scope="row">From Location</th>
            <th scope="row">To Location</th>
            <th scope="row">AirLine Name</th>
            <th scope="row">Price</th> 
            <th scope="row">Flight Status</th>
            <th scope="row">Update</th>
            <th scope="row">Delete</th>
            
          </tr>
         
          <tr *ngFor="let item of flightmodal">

            <td>{{item.flightID}}</td>
<td>{{item.fromLocation}}</td>
<td>{{item.toLocation}}</td>
<td>{{item.airlineDetails.airLineName}}</td>
<td>{{item.price}}</td>
<td><p *ngIf="item.lockstatus==0">open</p>
  <p *ngIf="item.lockstatus==1">locked</p></td>
<td><button class="btn btn-primary" (click)="EditFlightDetails(item);">Update</button></td>
<td><button *ngIf="item.lockstatus==0" class="btn btn-danger" (click)="deleteFlightId(item.flightID);">Delete</button>
<p *ngIf="item.lockstatus==1" style="color: green;">Already Deleted</p></td>

          </tr>
        </tbody>
      </table>
</div>
    </div>
  </div> 